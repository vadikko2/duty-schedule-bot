version: "3"
tasks:
  default:
    desc: Задача по умолчанию
    cmds:
      - echo "Доступные команды build, test"
  build:
    desc: Собираем приложение
    cmds:
      - go build -o ./app ./main.go
      - echo "Приложение ./app собрано"
  test:
    desc: Запускаем тесты
    cmds:
      - go test -v ./...
      - echo "Тесты завершены"
  test-coverage:
    desc: Запускаем тесты с покрытием
    cmds:
      - go test -v -coverprofile=coverage.out ./...
      - go tool cover -html=coverage.out -o coverage.html
      - echo "Отчет о покрытии создан coverage.html"
  lint:
    desc: Проверяем код на ошибки стиля
    cmds:
      - go vet ./...
      - go fmt ./...
      - echo "Проверка стиля завершена"
  run:
    desc: Запускаем приложение
    cmds:
      - go run cmd/main.go
